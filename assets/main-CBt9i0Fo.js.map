{"version":3,"file":"main-CBt9i0Fo.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n    /* ==============================================\n       0. ИНИЦИАЛИЗАЦИЯ БИБЛИОТЕК\n    ============================================== */\n    // Иконки Lucide\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n    \n    // GSAP ScrollTrigger\n    if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n    }\n\n    /* ==============================================\n       1. МОБИЛЬНОЕ МЕНЮ И ХЕДЕР\n    ============================================== */\n    const burger = document.querySelector('.burger');\n    const nav = document.querySelector('.nav');\n    const navLinks = document.querySelectorAll('.nav__link');\n    const header = document.querySelector('.header');\n    const body = document.body;\n\n    if (burger) {\n        burger.addEventListener('click', () => {\n            nav.classList.toggle('active');\n            burger.classList.toggle('active');\n            body.style.overflow = nav.classList.contains('active') ? 'hidden' : '';\n        });\n\n        navLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                nav.classList.remove('active');\n                burger.classList.remove('active');\n                body.style.overflow = '';\n            });\n        });\n    }\n\n    if (header) {\n        window.addEventListener('scroll', () => {\n            if (window.scrollY > 50) {\n                header.style.background = 'rgba(11, 15, 25, 0.95)';\n                header.style.boxShadow = '0 4px 20px rgba(0,0,0,0.1)';\n            } else {\n                header.style.background = 'rgba(11, 15, 25, 0.85)';\n                header.style.boxShadow = 'none';\n            }\n        });\n    }\n\n    /* ==============================================\n       2. АНИМАЦИИ (GSAP)\n    ============================================== */\n    if (typeof gsap !== 'undefined') {\n        \n        // Hero Section\n        const heroContent = document.querySelector('.hero__content');\n        if (heroContent) {\n            const heroTl = gsap.timeline({ defaults: { ease: 'power3.out' } });\n            gsap.set(heroContent, { opacity: 0, y: 30 });\n            \n            heroTl.to(heroContent, { opacity: 1, y: 0, duration: 1, delay: 0.2 })\n                  .from('.hero__badge', { y: 20, opacity: 0, duration: 0.8 }, '-=0.7')\n                  .from('.hero__title', { y: 30, opacity: 0, duration: 0.8 }, '-=0.6')\n                  .from('.hero__subtitle', { y: 20, opacity: 0, duration: 0.8 }, '-=0.6')\n                  .from('.hero__actions', { y: 20, opacity: 0, duration: 0.8 }, '-=0.6')\n                  .from('.hero__stats', { opacity: 0, duration: 1 }, '-=0.4');\n            \n            gsap.from('.hero__background', { opacity: 0, duration: 2, ease: 'power2.out' }, 0);\n        }\n\n        // Общая анимация секций\n        const sections = document.querySelectorAll('.section');\n        sections.forEach(section => {\n            if(section.classList.contains('career')) return;\n\n            gsap.fromTo(section.children, \n                { y: 50, opacity: 0 },\n                {\n                    scrollTrigger: {\n                        trigger: section,\n                        start: 'top 85%',\n                    },\n                    y: 0,\n                    opacity: 1,\n                    duration: 0.8,\n                    stagger: 0.1,\n                    ease: 'power2.out'\n                }\n            );\n        });\n\n        // Анимация Timeline\n        const timeline = document.querySelector('.timeline');\n        const progressLine = document.querySelector('.timeline__progress');\n        const timelineItems = document.querySelectorAll('.timeline__item');\n\n        if (timeline && progressLine) {\n            gsap.to(progressLine, {\n                height: '100%',\n                scrollTrigger: {\n                    trigger: timeline,\n                    start: 'top 60%',\n                    end: 'bottom 60%',\n                    scrub: 0.5,\n                },\n                ease: 'none'\n            });\n\n            timelineItems.forEach((item) => {\n                ScrollTrigger.create({\n                    trigger: item,\n                    start: 'top 65%',\n                    onEnter: () => item.classList.add('active'),\n                    onLeaveBack: () => item.classList.remove('active')\n                });\n\n                gsap.from(item, {\n                    scrollTrigger: {\n                        trigger: item,\n                        start: 'top 85%',\n                    },\n                    opacity: 0,\n                    x: window.innerWidth > 768 ? (item.matches(':nth-child(even)') ? 50 : -50) : 0,\n                    y: window.innerWidth <= 768 ? 30 : 0,\n                    duration: 0.6\n                });\n            });\n        }\n    }\n\n    /* ==============================================\n       3. 3D TILT EFFECT\n    ============================================== */\n    const tiltCards = document.querySelectorAll('.js-tilt');\n    tiltCards.forEach(card => {\n        card.addEventListener('mousemove', (e) => {\n            const rect = card.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n            const centerX = rect.width / 2;\n            const centerY = rect.height / 2;\n            const rotateX = ((y - centerY) / centerY) * -7; \n            const rotateY = ((x - centerX) / centerX) * 7;\n\n            card.style.setProperty('--mouse-x', `${x}px`);\n            card.style.setProperty('--mouse-y', `${y}px`);\n            card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;\n        });\n\n        card.addEventListener('mouseleave', () => {\n            card.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`;\n        });\n    });\n\n    /* ==============================================\n       4. ФОРМА КОНТАКТОВ (ВАЖНОЕ ИСПРАВЛЕНИЕ)\n    ============================================== */\n    const contactForm = document.getElementById('contactForm'); // Убедись, что в HTML <form id=\"contactForm\">\n    const phoneInput = document.getElementById('phone');        // Убедись, что в HTML <input id=\"phone\">\n    const formStatus = document.getElementById('formStatus');\n    \n    // Капча\n    const captchaLabel = document.getElementById('captchaLabel');\n    const captchaInput = document.getElementById('captchaInput');\n    let captchaNum1, captchaNum2, captchaResult;\n\n    function generateCaptcha() {\n        if(!captchaLabel) return;\n        captchaNum1 = Math.floor(Math.random() * 10);\n        captchaNum2 = Math.floor(Math.random() * 10);\n        captchaResult = captchaNum1 + captchaNum2;\n        captchaLabel.textContent = `Сколько будет ${captchaNum1} + ${captchaNum2}?`;\n    }\n\n    // Проверяем, существует ли форма на странице\n    if (contactForm) {\n        generateCaptcha();\n\n        // 1. ВАЛИДАЦИЯ ТЕЛЕФОНА (ТОЛЬКО ЦИФРЫ)\n        if (phoneInput) {\n            phoneInput.addEventListener('input', function(e) {\n                // Заменяем все не-цифры (\\D) на пустоту\n                this.value = this.value.replace(/\\D/g, '');\n            });\n        }\n\n        // 2. ОБРАБОТКА ОТПРАВКИ\n        contactForm.addEventListener('submit', function(e) {\n            // !!! ГЛАВНАЯ СТРОКА: ОТМЕНЯЕТ ПЕРЕЗАГРУЗКУ !!!\n            e.preventDefault(); \n            \n            console.log('Form submit intercepted'); // Для проверки в консоли\n\n            // Проверка капчи\n            if (captchaInput && parseInt(captchaInput.value) !== captchaResult) {\n                formStatus.textContent = 'Ошибка: Неверный ответ!';\n                formStatus.className = 'form-status status-error';\n                generateCaptcha();\n                captchaInput.value = '';\n                return;\n            }\n\n            // Имитация отправки\n            const btn = contactForm.querySelector('button[type=\"submit\"]');\n            const originalBtnText = btn.textContent;\n            \n            btn.textContent = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                btn.textContent = originalBtnText;\n                btn.disabled = false;\n                \n                formStatus.textContent = 'Успешно! Данные отправлены.';\n                formStatus.className = 'form-status status-success';\n                \n                contactForm.reset();\n                generateCaptcha();\n                \n                setTimeout(() => {\n                    formStatus.textContent = '';\n                    formStatus.className = 'form-status';\n                }, 5000);\n            }, 1500);\n        });\n    }\n\n    /* ==============================================\n       5. COOKIE POPUP\n    ============================================== */\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptCookieBtn = document.getElementById('acceptCookie');\n\n    if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('show');\n        }, 2000);\n\n        acceptCookieBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.classList.remove('show');\n        });\n    }\n});"],"names":["burger","nav","navLinks","header","body","link","heroContent","heroTl","section","timeline","progressLine","timelineItems","item","card","e","rect","x","y","centerX","centerY","rotateX","rotateY","contactForm","phoneInput","formStatus","captchaLabel","captchaInput","captchaNum1","captchaNum2","captchaResult","generateCaptcha","btn","originalBtnText","cookiePopup","acceptCookieBtn"],"mappings":"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"}